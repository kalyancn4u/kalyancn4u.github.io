{% comment %}
  Renders a tag cloud
  Usage: {% include tag-cloud.html %}
{% endcomment %}

<div class="tag-cloud">
  {% assign tags = site.tags | sort_by: "last" | reverse %}
  {% for tag in tags %}
    {% capture name %}{{ tag | first }}{% endcapture %}
    {% capture posts_count %}{{ tag | last | size }}{% endcapture %}

    {% comment %}
      Calculate a 'weight' or font size based on post count.
      You'll need to define CSS classes (e.g., .tag-size-1, .tag-size-2, etc.) 
      or use inline styles (less ideal for maintainability).
    {% endcomment %}
    {% if posts_count > 10 %}
      {% assign tag_size = 5 %}
    {% elsif posts_count > 5 %}
      {% assign tag_size = 4 %}
    {% elsif posts_count > 2 %}
      {% assign tag_size = 3 %}
    {% else %}
      {% assign tag_size = 2 %}
    {% endif %}

    <a href="{{ site.baseurl }}/tags/#{{ name | slugify }}" class="tag-size-{{ tag_size }}">
      {{ name }} <sup>({{ posts_count }})</sup>
    </a>
  {% endfor %}
</div>
